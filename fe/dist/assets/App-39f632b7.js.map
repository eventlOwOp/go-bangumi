{"version":3,"file":"App-39f632b7.js","sources":["../../src/App.jsx"],"sourcesContent":["import { createSignal, createEffect, onMount } from \"solid-js\";\nimport { useParams, useLocation, A } from \"@solidjs/router\";\nimport { For } from \"solid-js/web\";\nimport axios from \"axios\";\n\nexport default function App() {\n\tconst [filelist, setFilelist] = createSignal([]);\n\tconst params = useParams();\n\tconst location = useLocation();\n\n\tconst path =\n\t\tlocation.pathname === \"/\" ? \"/\" : decodeURIComponent(params.name);\n\tif (path === undefined) throw new Error(\"invalid anime name\");\n\n\tonMount(() => {});\n\n\taxios.post(\"/scandir\", { path }).then((u) => setFilelist(u.data));\n\n\treturn (\n\t\t<div class=\"container-md\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6 col-xs-12 p-4\">\n\t\t\t\t\t<div class=\"list\">\n\t\t\t\t\t\t<For each={filelist()}>\n\t\t\t\t\t\t\t{(u) => (\n\t\t\t\t\t\t\t\t<div class=\"link-wrapper\">\n\t\t\t\t\t\t\t\t\t<A class=\"list-item\" href={\"/anime/\" + encodeURI(u.name)}>\n\t\t\t\t\t\t\t\t\t\t{u.name}\n\t\t\t\t\t\t\t\t\t</A>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</For>\n\t\t\t\t\t\t<div class=\"link-wrapper mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-info\"\n\t\t\t\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.location.href = \"/add\";\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["App","filelist","setFilelist","createSignal","params","useParams","path","useLocation","pathname","decodeURIComponent","name","undefined","Error","onMount","axios","post","then","u","data","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","_el$5","_el$6","_$insert","_$createComponent","For","each","children","_el$7","_tmpl$2","A","href","encodeURI","addEventListener","e","preventDefault","window","location"],"mappings":"uVAKe,SAASA,GAAM,CAC7B,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAa,CAAE,CAAA,EACzCC,EAASC,IAGTC,EAFWC,IAGPC,WAAa,IAAM,IAAMC,mBAAmBL,EAAOM,IAAI,EACjE,GAAIJ,IAASK,OAAW,MAAM,IAAIC,MAAM,oBAAoB,EAE5DC,OAAAA,EAAQ,IAAM,CAAA,CAAE,EAEhBC,EAAMC,KAAK,WAAY,CAAET,KAAAA,CAAK,CAAC,EAAEU,KAAMC,GAAMf,EAAYe,EAAEC,IAAI,CAAC,GAEhE,IAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAD,WAAAG,EAAAD,EAAAF,WAAAI,EAAAD,EAAAH,WAAAK,OAAAA,EAAAH,EAAAI,EAKMC,EAAG,CAAA,IAACC,MAAI,CAAA,OAAE7B,EAAQ,CAAE,EAAA8B,SAClBd,IAAC,IAAA,CAAA,MAAAe,EAAAC,IAAAN,OAAAA,EAAAK,EAAAJ,EAEAM,EAAC,CAAA,MAAA,YAAA,IAAmBC,MAAI,CAAA,MAAE,UAAYC,UAAUnB,EAAEP,IAAI,CAAC,EAAA,IAAAqB,UAAA,CAAA,OACtDd,EAAEP,IAAI,CAAA,CAAA,CAAA,EAAAsB,CAAA,GAAA,CAGT,CAAA,EAAAP,CAAA,EAAAC,EAAAW,iBAKWC,QAAAA,GAAM,CAChBA,EAAEC,eAAc,EAChBC,OAAOC,SAASN,KAAO,OACvB,EAAAhB,CAAA,IAUT"}