{"version":3,"file":"App-9353a86a.js","sources":["../../src/App.jsx"],"sourcesContent":["import { createResource } from \"solid-js\";\nimport { useParams, useLocation, A } from \"@solidjs/router\";\nimport { For } from \"solid-js/web\";\nimport axios from \"axios\";\n\nexport default function App() {\n\tconst params = useParams();\n\tconst location = useLocation();\n\n\tconst [filelist] = createResource(async () => {\n\t\tconst path =\n\t\t\tlocation.pathname === \"/\" ? \"/\" : decodeURIComponent(params.name);\n\t\tif (path === undefined) throw new Error(\"invalid anime name\");\n\t\tconst d = await axios.post(\"/scandir\", { path });\n\t\treturn d.data;\n\t});\n\n\tconst [rooms] = createResource(async () => {\n\t\tconst d = await axios.get(\"/together/list\");\n\t\treturn d.data;\n\t});\n\n\treturn (\n\t\t<div class=\"container-md\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6 col-xs-12 p-4\">\n\t\t\t\t\t<div class=\"list\">\n\t\t\t\t\t\t<Show\n\t\t\t\t\t\t\twhen={!filelist.loading}\n\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t<div class=\"link-wrapper\">\n\t\t\t\t\t\t\t\t\t<span class=\"link-wrapper list-item\">Loading...</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<For each={filelist()}>\n\t\t\t\t\t\t\t\t{(u) => (\n\t\t\t\t\t\t\t\t\t<div class=\"link-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<A class=\"list-item\" href={\"/anime/\" + encodeURI(u.name)}>\n\t\t\t\t\t\t\t\t\t\t\t{u.name}\n\t\t\t\t\t\t\t\t\t\t</A>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t<div class=\"link-wrapper mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-info\"\n\t\t\t\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.location.href = \"/add\";\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Show\n\t\t\t\t\t\t\twhen={!rooms.loading}\n\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t<div class=\"link-wrapper\">\n\t\t\t\t\t\t\t\t\t<span class=\"link-wrapper list-item\">Loading...</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<For each={rooms()}>\n\t\t\t\t\t\t\t\t{(u) => (\n\t\t\t\t\t\t\t\t\t<div class=\"link-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<A class=\"list-item\" href={\"/together/\" + u.id}>\n\t\t\t\t\t\t\t\t\t\t\t{u.name}\n\t\t\t\t\t\t\t\t\t\t</A>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t</Show>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["App","params","useParams","location","useLocation","filelist","createResource","path","pathname","decodeURIComponent","name","undefined","Error","axios","post","data","rooms","get","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","_el$5","_el$6","_$createComponent","_$Show","when","loading","fallback","_tmpl$2","children","For","each","_el$8","_tmpl$3","A","href","encodeURI","u","addEventListener","e","preventDefault","window","_el$10","id"],"mappings":"4ZAKA,SAAwBA,GAAM,CAC7B,MAAMC,EAASC,IACTC,EAAWC,IAEX,CAACC,CAAQ,EAAIC,EAAe,SAAY,CAC7C,MAAMC,EACLJ,EAASK,WAAa,IAAM,IAAMC,mBAAmBR,EAAOS,IAAI,EACjE,GAAIH,IAASI,OAAiB,MAAA,IAAIC,MAAM,oBAAoB,EAE5D,OADU,MAAMC,EAAMC,KAAK,WAAY,CAAEP,KAAAA,CAAAA,CAAM,GACtCQ,IAAAA,CACT,EAEK,CAACC,CAAK,EAAIV,EAAe,UACpB,MAAMO,EAAMI,IAAI,gBAAgB,GACjCF,IACT,EAED,OAAA,IAAA,CAAA,IAAAG,EAAAC,IAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAD,WAAAG,EAAAD,EAAAF,WAAAI,EAAAD,EAAAH,WAAAE,OAAAA,EAAAA,EAAAG,EAKMC,EAAI,CAAA,IACJC,MAAI,CAAA,MAAE,CAACvB,EAASwB,OAAO,EAAA,IACvBC,UAAQ,CAAA,OAAAC,EAAA,CAAA,EAAA,IAAAC,UAAA,CAAA,OAAAN,EAMPO,EAAG,CAAA,IAACC,MAAI,CAAA,OAAE7B,EAAS,CAAC,EAAA2B,aACjB,IAAA,CAAA,IAAAG,EAAAC,IAAAD,OAAAA,EAAAA,EAAAT,EAEAW,EAAC,CAAA,MAAA,YAAA,IAAmBC,MAAI,CAAE,MAAA,UAAYC,UAAUC,EAAE9B,IAAI,CAAC,EAAA,IAAAsB,UAAA,CAAA,OACtDQ,EAAE9B,IAAI,CAAA,CAAA,CAAA,EAAAyB,CAAAA,GAAA,CAAA,CAGT,CAAA,CAAA,CAAA,EAAAX,CAAA,EAAAiB,EAAAA,iBAMUC,QAAM,GAAA,CAChBA,EAAEC,eAAe,EACjBC,OAAOzC,SAASmC,KAAO,MAAA,CACvB,EAAAf,EAAAA,EAAAG,EAKFC,EAAI,CAAA,IACJC,MAAI,CAAA,MAAE,CAACZ,EAAMa,OAAO,EAAA,IACpBC,UAAQ,CAAA,OAAAC,EAAA,CAAA,EAAA,IAAAC,UAAA,CAAA,OAAAN,EAMPO,EAAG,CAAA,IAACC,MAAI,CAAA,OAAElB,EAAM,CAAC,EAAAgB,aACd,IAAA,CAAA,IAAAa,EAAAT,IAAAS,OAAAA,EAAAA,EAAAnB,EAEAW,EAAC,CAAA,MAAA,YAAA,IAAmBC,MAAI,CAAA,MAAE,aAAeE,EAAEM,EAAE,EAAA,IAAAd,UAAA,CAAA,OAC5CQ,EAAE9B,IAAI,CAAA,CAAA,CAAA,EAAAmC,CAAAA,GAAA,CAAA,CAGT,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA3B,CAAAA,IAQT"}